{% extends 'base.html' %}
{% load static %}

{% block body%}
<div class="row">
  <div class="col-lg-4 col-md-4 my-3">
    <h4 class="header text-center alert alert-success" style="font-family: 'Montserrat', sans-serif; ">Add the details</h4>
    <form method="post" enctype="multipart/form-data" style="border:1px solid black">
      {% csrf_token %}
     {{ form.as_p }}
      <button class="btn2 btn btn-md bg-primary mx-auto d-block my-4 px-3 py-1" type="submit">Submit</button>
    </form>
  </div>
  <div class="col-lg-8 col-md-8 my-3">
    <h4 class="header text-center alert alert-success" style="font-family: 'Montserrat', sans-serif; ">Show Entered Details</h4>
    {% if details %}
    <table class="table table-hover" style="font-family: Arial, Helvetica, sans-serif">
      <thead>
        <tr>
          <th scope="col">Date/Time</th>
          <th scope="col">Id</th>
          <th scope="col">Title</th>
          <th scope="col">Image</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        {%for detail in details %}
        <tr>
          <th scope="row">
            {{detail.date}}
          </th>
          <td>{{detail.id}}</td>
          <td>{{detail.title}}</td>
          <td>
            <img src="{{detail.image.url}}" width="100" height=""/>
          </td>
          <td>
            <a href="{% url 'update' detail.id %}" class="btn btn-sm bg-warning" style="color:white">Update</a>
            <form action="{% url 'delete' detail.id %}" method="post" class="d-inline">{% csrf_token %}
            <button class="btn btn-sm bg-danger"  style="color:white" type="submit">Delete</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
      {% else %}
      <h4 class="text-center hsecondary" >No records Found</h4>
      {% endif %}

    </table>
  </div>
  {% endblock body%}


  {% block css%}
  *{
  margin:0px;
  padding:0px;
  }
  p{
  display:flex;
  flex-direction:column;
  padding-top:30px;
  margin: 0px 30px;
  font-family: Arial, Helvetica, sans-serif;
  }
  .btn2{
  font-size:1.2rem;
  color:white;
  }
  @media(max-width:768px){
    .whole .hprimary{
      font-size:1.5rem;
    }}
    @media(max-width:460px){
      .whole .hprimary{
        font-size:1.2rem;
        overflow:auto;
      }
      .header{
        font-size:1.15rem;
      }
    }

    .hprimary{
      background-color:rgb(31 88 88);
      color: white;
      font-size: 1.7rem;
      font-family: 'Montserrat', sans-serif;
      padding:15px 0px;
    }
    .hsecondary{
      margin:100px 0px;
    }
  {% endblock css%}
